# Project Survey (AI-Enhanced)

## Summary

Agent Foreman is a CLI harness designed to facilitate long-running, feature-driven development tasks for AI agents. It maintains an external memory (feature list, progress log) and orchestrates AI agents (Gemini, Claude, Codex) to autonomously survey, plan, and implement features while tracking dependencies and impact.

> Analyzed by: gemini

## Tech Stack

| Aspect | Value |
|--------|-------|
| Language | TypeScript |
| Framework | Node.js |
| Build Tool | tsc |
| Test Framework | Vitest |
| Package Manager | npm |

## Directory Structure

### Entry Points
- `src/index.ts`

### Source Directories
- `src/`

## Modules

### cli
- **Path**: `src/index.ts`
- **Status**: complete
- **Description**: Main CLI entry point and command orchestration

### ai-scanner
- **Path**: `src/ai-scanner.ts`
- **Status**: complete
- **Description**: AI-powered project analysis using external agents (Gemini, Codex, Claude)

### feature-list
- **Path**: `src/feature-list.ts`
- **Status**: complete
- **Description**: Manages the JSON-based feature backlog and status tracking

### progress-log
- **Path**: `src/progress-log.ts`
- **Status**: complete
- **Description**: Handles the append-only markdown audit log

### impact-analyzer
- **Path**: `src/impact-analyzer.ts`
- **Status**: complete
- **Description**: Analyzes dependency graphs to predict impact of changes

### agents
- **Path**: `src/agents.ts`
- **Status**: complete
- **Description**: Abstraction layer for spawning and managing AI subprocesses

### project-scanner
- **Path**: `src/project-scanner.ts`
- **Status**: complete
- **Description**: File system scanning and structure detection

## Discovered Features

| ID | Description | Module | Source | Confidence |
|----|-------------|--------|--------|------------|
| cli.survey | Generate AI-powered project survey report | cli | code | 100% |
| cli.init | Initialize harness (feature list, progress log, init script) | cli | code | 100% |
| cli.step | Select and present the next high-priority feature to work on | cli | code | 100% |
| cli.status | Display current project health and feature completion stats | cli | code | 100% |
| cli.impact | Analyze dependent features for a specific change | cli | code | 100% |
| cli.complete | Mark a feature as passing and update logs | cli | code | 100% |
| scanner.autonomous_exploration | Agent autonomously explores codebase to discover features | ai-scanner | code | 100% |
| scanner.generate_from_goal | Generate initial feature list from a text goal for empty projects | ai-scanner | code | 100% |
| agents.abstraction | Unified interface for Gemini, Claude, and Codex CLIs | agents | code | 100% |
| agents.retry | Retry logic for failed AI agent calls | agents | code | 100% |
| features.dependency_graph | Build and traverse feature dependency graph | impact-analyzer | code | 100% |
| features.circular_check | Detect circular dependencies in features | impact-analyzer | code | 100% |
| logging.audit | Structured logging of all harness actions to markdown | progress-log | code | 100% |
| init.script_gen | Generate project-specific 'ai/init.sh' bootstrap script | init-script | code | 100% |

## Completion Assessment

**Overall: 90%**

**Notes:**
- Core functionality is implemented and tested.
- Plugin system structure exists but implementation details are minimal in the source scan.
- High test coverage for core logic.

## Recommendations

- Formalize the plugin system architecture which currently appears as a folder structure.
- Add more robust error handling for missing external CLI tools.
- Consider adding a visual reporter or web UI for the status.

## Commands

```bash
# Install dependencies
npm install

# Start development server
tsx src/index.ts

# Build for production
tsc && chmod +x dist/index.js

# Run tests
vitest run
```

---

*Generated by agent-foreman with AI analysis*